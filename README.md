# Speedy Review

Speedy Review is a powerful tool designed to enhance your git workflow by automatically generating meaningful commit messages based on code changes. It aims to save developers time and improve the quality of commit logs, making code reviews faster and change logs more useful.



## Why Use Speedy Review?

1. **Save Time**: Automate commit message creation, allowing developers to focus on coding.
2. **Improve Code Review Efficiency**: Clear, descriptive commit messages facilitate faster review processes.
3. **Enhance Change Logs**: Generate more informative and useful project history tracking.
4. **Ensure Consistency**: Maintain a consistent style and quality of commit messages across your team or project.
5. **Promote Best Practices**: Learn to write more informative commits by analyzing suggested messages.

## Features

- **Git Hook Integration**: Automatically suggest commit messages during the commit process.
- **Standalone Script (victor.py)**: Analyze and update commit messages for historical commits. The victor writes history!
- **Microservice Architecture**: Utilize a microservice for diff analysis and message generation (optional).
- **Customizable Message Templates**: Define commit message templates to align with your team's conventions.
- **Multi-language Support**: Generate appropriate commit messages for various programming languages and file types.
- **Historical Analysis**: Analyze past commits to suggest improvements and maintain consistency with previous high-quality messages.
- **Commit Categorization**: Automatically categorize commits (e.g., feat, fix, docs, style) based on changes made.
- **Interactive Mode**: Refine suggested commit messages through a command-line interface.

## Setup for Use

1. Install dependencies:
   - Python
   - Git

2. Add Git hook to your project

3. Set environment variables:
   - `SPEEDYREVIEW_API_KEY`: API string for authentication (choose when setting up your server)
   - `SPEEDYREVIEW_ENDPOINT_URL`: URL of the microservice

4. Commit as usual. The initial message will be generated by Speedy Review. You can accept it entirely, partially, or create your own.

## Development Server Setup

Start the development server on `http://localhost:3000`:

    npm run dev

## Production

Build the application for production:

    npm run build

Locally preview production build:

    npm run preview


## Typical Workflow

1. Initiate a `git commit`
2. Your editor will open with a generated commit message
3. Edit the commit message as desired (it's a starting point for explaining why the commit exists)
4. Save and exit your editor
5. Your commit is now complete with an informative message

## Git Hook Setup

1. Copy `prepare-commit-msg.py` to your repository's `.git/hooks/` directory, naming it `prepare-commit-msg`
2. Make it executable:
   ```
   cp prepare-commit-msg.py .git/hooks/prepare-commit-msg
   chmod +x .git/hooks/prepare-commit-msg
   ```
3. If hosting your own team server, set up and use the microservice, using its URL for `SPEEDYREVIEW_ENDPOINT_URL` and the `SPEEDYREVIEW_API_KEY` as specified in the microservice setup
4. For hosted options, contact us for setup assistance

## Team Generative Service

The generative service complements the Git hook script by analyzing diffs and generating commit messages. It securely manages team API keys for the Anthropic GPT service.

Set the following environment variables:

- `SPEEDYREVIEW_API_KEY`: Your API key for authentication
- `ANTHROPIC_MODEL`: claude-3-opus-20240229
- `ANTHROPIC_MAX_TOKENS`: 1000
- `ANTHROPIC_TEMPERATURE`: 0.7
- `ANTHROPIC_API_KEY`: The private Anthropic token
- `API_PRIMARY_KEY`: The key provided to your team members

Host the app on your preferred platform (Vercel recommended).

## Victor.py Script

Use `victor.py` to analyze and update historical commit messages:

    python victor.py <commit_hash>


This script will:
1. Checkout the specified commit
2. Analyze changes and existing commit message
3. Suggest a new commit message and initiate a `git commit --amend`
4. Update the commit message if approved, creating a new branch

## Contributing

We welcome contributions! Please fork the repository and submit a pull request.

## License

This project is licensed under the Apache 2.0 License.

## About

For more information, visit the [GitHub repository](https://github.com/tompscanlan/speedy-review).